
# 결제 페이지 구조 설명

## 폴더 구조

```
payment/
├── components/             # 결제 관련 UI 컴포넌트
│   ├── OrderSummary.tsx    # 주문 요약 컴포넌트
│   ├── PaymentMethods.tsx  # 결제 수단 선택 컴포넌트
│   └── CheckoutSummary.tsx # 최종 결제 요약 컴포넌트
│   └── README.md           # 컴포넌트 설명 문서
├── hooks/                  # 결제 관련 커스텀 훅
│   └── usePayment.ts       # 결제 기능 처리 로직
├── Checkout.tsx            # 메인 결제 페이지
├── PaymentHistory.tsx      # 결제 내역 페이지
└── README.md               # 전체 결제 시스템 설명
```

## 파일 및 역할 설명

### 1. 메인 페이지

- **Checkout.tsx**: 결제 프로세스를 관리하는 메인 페이지. 주문 요약, 결제 수단 선택, 최종 결제 섹션으로 구성되어 있으며, 각 섹션은 별도의 컴포넌트로 분리되어 있습니다.

### 2. 컴포넌트

- **OrderSummary.tsx**: 구매하려는 강의의 정보와 가격을 표시합니다. 강의 제목, 강사, 시간, 가격 등을 보여줍니다.
- **PaymentMethods.tsx**: 사용자가 결제 수단을 선택할 수 있는 컴포넌트입니다. 카카오페이, 신용카드, 무통장입금 등의 옵션을 제공합니다.
- **CheckoutSummary.tsx**: 최종 결제 금액, 이용약관 동의 체크박스, 결제하기 버튼을 포함한 컴포넌트입니다.

### 3. 커스텀 훅

- **usePayment.ts**: 결제 처리 로직을 분리한 커스텀 훅입니다. 포트원(구 아임포트) API를 사용한 결제 처리와 결제 성공/실패 후의 처리 로직을 담당합니다.

### 4. 데이터 플로우

1. 사용자가 강의 상세 페이지에서 '수강신청' 버튼을 클릭하면 Checkout 페이지로 이동
2. 결제 페이지에서는 강의 정보, 결제 수단, 동의 여부를 입력
3. '결제 완료하기' 버튼을 클릭하면 선택한 결제 수단에 따라 결제 진행
4. 결제 성공 시 백엔드 API를 통해 결제 정보를 저장하고 결제 내역 페이지로 이동
5. 결제 실패 시 에러 메시지 표시 및 재시도 유도

이러한 구조로 분리함으로써 코드의 가독성과 유지보수성을 크게 향상시켰습니다.
